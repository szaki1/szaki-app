# ğŸš€ Firebase Hosting automatikus deployment workflow
# Ez a workflow minden push esetÃ©n automatikusan telepÃ­ti az alkalmazÃ¡st Firebase Hosting-ra
# Token-alapÃº authentikÃ¡ciÃ³t hasznÃ¡l, ami biztonsÃ¡gos Ã©s nem igÃ©nyel interaktÃ­v bejelentkezÃ©st

name: ğŸš€ Firebase Hosting Deploy

# Workflow triggerek
on:
  # Automatikus futtatÃ¡s minden push esetÃ©n a main branch-en
  push:
    branches:
      - main
  
  # ManuÃ¡lis trigger lehetÅ‘sÃ©g GitHub Actions UI-bÃ³l
  workflow_dispatch:

jobs:
  deploy:
    name: Deploy to Firebase Hosting
    runs-on: ubuntu-latest
    
    steps:
      # ğŸ“¦ Repository letÃ¶ltÃ©se
      - name: ğŸ“¦ Checkout repository
        uses: actions/checkout@v4
      
      # ğŸ”§ Node.js kÃ¶rnyezet beÃ¡llÃ­tÃ¡sa
      # Node.js 20 LTS verziÃ³ hasznÃ¡lata npm cache-elÃ©ssel a gyorsabb telepÃ­tÃ©sÃ©rt
      - name: ğŸ”§ Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'
      
      # ğŸ“¥ Firebase CLI telepÃ­tÃ©se
      # A firebase-tools globÃ¡lis telepÃ­tÃ©se szÃ¼ksÃ©ges a deployment parancsok futtatÃ¡sÃ¡hoz
      - name: ğŸ“¥ Install Firebase CLI
        run: npm install -g firebase-tools
      
      # ğŸš€ Deployment Firebase Hosting-ra
      # Token-alapÃº authentikÃ¡ciÃ³ hasznÃ¡lata (FIREBASE_TOKEN secret-bÅ‘l)
      # Csak a hosting deplolyolÃ¡sa az --only hosting flag-gel
      - name: ğŸš€ Deploy to Firebase Hosting
        run: firebase deploy --only hosting --token "$FIREBASE_TOKEN"
        env:
          FIREBASE_TOKEN: ${{ secrets.FIREBASE_TOKEN }}
