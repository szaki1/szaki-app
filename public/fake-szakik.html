<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8" />
  <title>√Ålszakik bet√∂lt√©se</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css">
</head>
<body style="padding:30px">

<h2>üß™ √Ålszakik gener√°l√°sa</h2>
<p>Egyszer futtasd. Ut√°na ezt az oldalt t√∂r√∂lheted.</p>

<button id="runBtn" style="padding:14px 18px;font-size:16px">
  87 db √°lszaki bet√∂lt√©se
</button>

<p id="log" style="margin-top:16px;"></p>

<script type="module">
import {
  db,
  collection,
  addDoc,
  serverTimestamp
} from "./firebase-config.js";

const names = [
  "Kov√°cs L√°szl√≥","Nagy G√°bor","T√≥th Andr√°s","Szab√≥ Zolt√°n","Varga P√©ter",
  "Kiss J√≥zsef","Balogh Istv√°n","Farkas Tam√°s","Papp Lajos","Moln√°r √Åd√°m",
  "R√°cz Norbert","Kerekes Imre","Sipos M√°rk","B√≠r√≥ Attila","Lakatos Ferenc",
  "Horv√°th Gergely","M√©sz√°ros Roland","Kir√°ly Zsolt","V√°mos Tibor","Bodn√°r √Åkos"
];

const professions = [
  "Fest≈ë","Burkol√≥","Gipszkartonos",
  "Villanyszerel≈ë","V√≠zszerel≈ë","G√°zszerel≈ë","F≈±t√©sszerel≈ë",
  "Gyors√©tkeztet√©si elad√≥","Ford diagnosztika"
];

function rand(arr){ return arr[Math.floor(Math.random()*arr.length)]; }
function randPhone(){ return "06" + Math.floor(200000000 + Math.random()*699999999); }

document.getElementById("runBtn").onclick = async () => {
  const log = document.getElementById("log");
  log.textContent = "Felt√∂lt√©s indul‚Ä¶";

  for(let i=0;i<87;i++){
    const minutesAgo = [5,15,60,1440][Math.floor(Math.random()*4)];
    const online = minutesAgo <= 60;

    await addDoc(collection(db,"users"),{
      uid: "fake_"+crypto.randomUUID(),
      name: rand(names),
      email: "fake"+i+"@szakichat.hu",
      phone: randPhone(),
      role: "szaki",
      profession: rand(professions),
      phoneVisible: false,
      shareCount: Math.floor(Math.random()*5),
      featured: Math.random() < 0.2,
      online,
      lastSeenMinutesAgo: minutesAgo,
      createdAt: serverTimestamp()
    });
  }

  log.textContent = "‚úÖ K√âSZ! 87 √°lszaki felt√∂ltve.";
};
</script>

</body>
</html>
